환경설정

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
curl -L https://foundry.paradigm.xyz | bash
foundryup
git submodule update --init --recursive
forge --version
cast --version
```

1번. SimpleStorage 배포 및 테스트
```bash
forge script script/Deploy.s.sol:Deploy01_SimpleStorage --rpc-url http://localhost:8545 --broadcast
export CONTRACT=0x5fbdb2315678afecb367f032d93f642f64180aa3
cast send $CONTRACT "set(uint256)" 40 --rpc-url http://localhost:8545 --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
cast call $CONTRACT "get()" --rpc-url http://localhost:8545
cast --to-dec $(cast call $CONTRACT "get()" --rpc-url http://localhost:8545)
```

2번. UUPS Proxy 배포 및 업그레이드 테스트
```bash
forge script script/DeployUpgradeable.s.sol:DeployV1 --rpc-url http://localhost:8545 --broadcast
export PROXY=0x8A791620dd6260079BF849Dc5567aDC3F2FdC318
cast send $PROXY "set(uint256)" 42 --rpc-url http://localhost:8545 --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
cast call $PROXY "get()" --rpc-url http://localhost:8545
sed -i '' "s|PROXY_ADDRESS=.*|PROXY_ADDRESS=$PROXY|" .env || echo "PROXY_ADDRESS=$PROXY" >> .env
forge script script/DeployUpgradeable.s.sol:UpgradeToV2 --rpc-url http://localhost:8545 --broadcast
cast call $PROXY "get()" --rpc-url http://localhost:8545
cast send $PROXY "increment()" --rpc-url http://localhost:8545 --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
cast call $PROXY "get()" --rpc-url http://localhost:8545
cast call $PROXY "getCounter()" --rpc-url http://localhost:8545
```

3번. TheDAO Reentrancy Attack 테스트
```bash
forge script script/Deploy.s.sol:Deploy03_TheDAOHack --rpc-url http://localhost:8545 --broadcast
export DAO=0x5FbDB2315678afecb367f032d93F642f64180aa3
export ATTACKER=0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512

cast send $DAO "deposit()" --value 10ether --rpc-url http://localhost:8545 --private-key 0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d
cast send $DAO "deposit()" --value 10ether --rpc-url http://localhost:8545 --private-key 0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a

cast call $DAO "getContractBalance()" --rpc-url http://localhost:8545
cast send $ATTACKER "attack()" --value 1ether --rpc-url http://localhost:8545 --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
cast call $DAO "getContractBalance()" --rpc-url http://localhost:8545
cast call $ATTACKER "getBalance()" --rpc-url http://localhost:8545
```

4번. Bridge Cross-Chain Replay Attack 테스트
```bash
forge script script/Deploy.s.sol:Deploy04_BridgeHack --rpc-url http://localhost:8545 --broadcast
export BRIDGE_A=0x5FbDB2315678afecb367f032d93F642f64180aa3
export ATTACKER=0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512

forge test --match-test testCrossChainReplayAttack -vv
cast balance $BRIDGE_A --rpc-url http://localhost:8545
```

